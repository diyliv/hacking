# TCP, Port Scanner, TCP proxy
## TCP Handshaking 
Когда мы подключаемся к какому-то хосту на какой-то определенный порт, то как мы понимаем, что соединение прошло успешно или нет? Открыт ли порт в который мы стучимся? Может быть отфильтрован?  
Рассмотрим первый случай когда соединение прошло успешно.  
![Port open](/img/tcp_scanners_proxies/01open_case.png)  
В случае когда порт открыт, то рукопожатие(handshake) осуществляется в три этапа.
* Клиент отправляет пакет `syn`, определяющий начало сеанса связи
* Сервер отправляет `syn-ack`, подтверждая получение пакета `syn`, предлагая клиенту завершить сеанс установки связи отправкой пакета `ack`, подтверждая, что клиент получил ответ от сервера.  
После всех операций выше клиент-серверное приложение могут начать обмениваться данными.  

![Port closed](/img/tcp_scanners_proxies/01closed_case.png)  
Если порт закрыт,то сервер ответит пакетом `rst`.

![Port filtered](/img/tcp_scanners_proxies/01filtered_port.png)  
Когда трафик фильруется межсетевым экраном(Брандмауэр), клиент не получит ответ от сервера.  
`Брандмауэр` - устройство обеспечения сети, которое осуществляет мониторинг входящего и исходящего сетевого трафика и на основании установленных правил безопасности решает пропустить или блокировать конкретный трафик.
